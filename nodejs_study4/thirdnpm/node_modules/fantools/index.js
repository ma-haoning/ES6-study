var tools = {
  formatObj: function(str) {
    // 新建一个工具函数，把查询字符串转成对象
    var obj = {};
    //var str = 'article_id=283&a=1&b=2';
    var arr1 = str.split('&'); //["article_id=283","a=1","b=2"]
    arr1.forEach(function(item) {
      // "article_id=283"
      var arr2 = item.split('='); // ["article_id","283"]
      obj[arr2[0]] = arr2[1];
    });
    // console.log(obj);
    return obj;
  },
  formatTime: function(dt) {
    // dt: 1569384400535 ---> a天b小时c分  前
    // 这是一个过去时间的时间戳，所以，我们可以：
    // diffSec = （ 用此时的时间戳 - dt ）  ====>  从dt开始，到现在已经经过的 毫秒数

    // var dt = 1569421556559; //过去时间的时间戳
    var nowDt = Date.now(); // 此时的时间戳
    var diffSec = Math.floor((nowDt - dt) / 1000); // 到现在已经经过的 秒数
    var flag = diffSec > 0 ? '前' : '后';
    if (diffSec < 60 && diffSec >= 0) {
      return '刚刚';
    }
    diffSec = Math.abs(diffSec);
    // 把秒数 --->   day天 hour小时 mint分
    // 一天的秒数： (24 * 60 * 60)
    var day = Math.floor(diffSec / (24 * 60 * 60));

    // (diffSec - day天对应的秒) /  1小时对应的秒数
    // 一小时的秒数：60 * 60
    var hour = Math.floor((diffSec - day * 24 * 60 * 60) / (60 * 60));

    // (diffSec - day天对应的秒 - hour小时对应的秒) /  1分对应的秒数
    var mint = Math.floor((diffSec - day * 24 * 60 * 60 - hour * 60 * 60) / 60);

    console.log(diffSec, day, hour, mint);
    var str = '';
    if (day !== 0) {
      str += day + '天';
    }
    if (hour !== 0) {
      str += hour + '小时';
    }

    if (mint !== 0) {
      str += mint + '分钟';
    }
    return str + flag;
  }
};
module.exports = tools;
